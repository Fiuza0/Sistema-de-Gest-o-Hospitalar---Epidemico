CREATE TABLE PESSOA(
CD_PESSOA int IDENTITY NOT NULL,
NOME VARCHAR(255) NOT NULL,
CPF VARCHAR(11) NOT NULL,
DT_NASCIMENTO DATE NOT NULL)

CREATE TABLE CARGO(
CD_CARGO int IDENTITY NOT NULL,
NOME_CARGO VARCHAR(255) NOT NULL)


CREATE TABLE FUNCIONARIO(
CD_PESSOA int NOT NULL,
CD_MATRICULA int identity NOT NULL,
SENHA VARCHAR(255) NOT NULL,
CD_CARGO int not null,
IS_ATIVO int NOT NULL)

CREATE TABLE ESPECIALIDADE(
CD_ESPECIALIDADE int NOT NULL,
NOME_ESPECIALIDADE VARCHAR(255) NOT NULL)

CREATE TABLE SALA(
CD_SALA int identity NOT NULL,
NUM_SALA int NOT NULL,
IS_ATIVA int NOT NULL)

CREATE TABLE PRODUTO(
CD_PRODUTO int identity NOT NULL,
NOME_PRODUTO VARCHAR(255) NOT NULL,
CD_FUNCIONARIO_CADASTRO int NOT NULL,
IS_DISPONIVEL int NOT NULL)

CREATE TABLE PACIENTE(
CD_PESSOA int identity NOT NULL,
CONVENIO VARCHAR(255) NOT NULL)

CREATE TABLE LOG(
CD_LOG int identity NOT NULL,
CD_MATRICULA int NOT NULL,
DT_ACESSO DATETIME NOT NULL)

CREATE TABLE ATENDIMENTO(
CD_ATENDIMENTO int IDENTITY NOT NULL,
DESCRICAO_ATENDIMENTO VARCHAR(255) NOT NULL,
CD_MATRICULA_CADASTRO int NOT NULL,
CD_MATRICULA_MEDICO int NOT NULL,
CD_PACIENTE int NOT NULL,
DT_MARCADA_CONSULTA DATETIME NOT NULL,
FIM_CONSULTA DATETIME,
CD_SALA int NOT NULL)

CREATE TABLE MEDICO_ESPECIALIDADE(
CD_MEDICO int NOT NULL,
CD_ESPECIALIDADE int not null)

CREATE TABLE ESTOQUE(
CD_PRODUTO int NOT NULL,
QUANTIDADE int not null)

ALTER TABLE PUBLIC.ATENDIMENTO
ADD FOREIGN KEY (CD_PACIENTE) 
REFERENCES PUBLIC.PACIENTE(CD_PESSOA)

ALTER TABLE PUBLIC.ATENDIMENTO
ADD FOREIGN KEY (CD_MATRICULA_MEDICO) 
REFERENCES PUBLIC.FUNCIONARIO(CD_MATRICULA)

ALTER TABLE PUBLIC.ATENDIMENTO
ADD FOREIGN KEY (CD_MATRICULA_CADASTRO) 
REFERENCES PUBLIC.FUNCIONARIO(CD_MATRICULA)

ALTER TABLE PUBLIC.ATENDIMENTO
ADD FOREIGN KEY (CD_SALA) 
REFERENCES PUBLIC.SALA(CD_SALA)

ALTER TABLE PUBLIC.ESTOQUE
ADD FOREIGN KEY (CD_PRODUTO) 
REFERENCES PUBLIC.PRODUTO(CD_PRODUTO)

ALTER TABLE PUBLIC.FUNCIONARIO
ADD FOREIGN KEY (CD_PESSOA) 
REFERENCES PUBLIC.PESSOA(CD_PESSOA)

ALTER TABLE PUBLIC.FUNCIONARIO
ADD FOREIGN KEY (CD_CARGO) 
REFERENCES PUBLIC.CARGO(CD_CARGO)

ALTER TABLE PUBLIC.LOG
ADD FOREIGN KEY (CD_MATRICULA) 
REFERENCES PUBLIC.FUNCIONARIO(CD_MATRICULA)

ALTER TABLE PUBLIC.MEDICO_ESPECIALIDADE
ADD FOREIGN KEY (CD_MEDICO) 
REFERENCES PUBLIC.FUNCIONARIO(CD_MATRICULA)

ALTER TABLE PUBLIC.MEDICO_ESPECIALIDADE
ADD FOREIGN KEY (CD_ESPECIALIDADE) 
REFERENCES PUBLIC.ESPECIALIDADE(CD_ESPECIALIDADE)

ALTER TABLE PUBLIC.PACIENTE
ADD FOREIGN KEY (CD_PESSOA) 
REFERENCES PUBLIC.PESSOA(CD_PESSOA)

ALTER TABLE PUBLIC.PRODUTO
ADD FOREIGN KEY (CD_FUNCIONARIO_CADASTRO) 
REFERENCES PUBLIC.FUNCIONARIO(CD_MATRICULA)